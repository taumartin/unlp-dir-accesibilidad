<div class="card o-hidden border-0 shadow-lg my-5">
  <div class="card-body p-0">
    <div class="row">
      <div class="col-lg-5 d-none d-lg-block bg-register-image position-relative">
        <div class="bg-overlay"></div>
      </div>
      <div class="col-lg-7">
        <div class="p-5">
          <div class="text-center">
            <h2 class="h5 text-gray-900 mb-1">Informática UNLP - Gestión Dirección de Accesibilidad</h2>
            <h1 class="h4 text-gray-900 mb-4">Crear una cuenta</h1>
          </div>
          <form class="user row g-3" [formGroup]="signupForm" (ngSubmit)="onSubmit()" autocomplete="on">
            <div class="col-sm-6">
              <div class="form-floating">
                <input type="email" id="inputEmail" class="form-control form-control-user rounded-pill"
                       [class.is-invalid]="isInvalid(email)" [class.is-valid]="isValid(email)"
                       placeholder="E-mail" name="email" formControlName="email" required
                       aria-describedby="emailFeedback" autocomplete="email">
                <label for="inputEmail">E-mail:</label>
                <div id="emailFeedback" class="invalid-feedback">
                  {{ email?.errors?.['required'] ? 'El e-mail es obligatorio.' : '' }}
                  {{ email?.errors?.['email'] ? 'Ingresa un e-mail válido.' : '' }}
                  {{ email?.errors?.['backend'] ?? '' }}
                </div>
              </div>
            </div>
            <div class="col-sm-6">
              <div class="form-floating">
                <input type="email" id="inputEmailRetype" class="form-control form-control-user rounded-pill"
                       [class.is-invalid]="isInvalid(emailRetype)" [class.is-valid]="isValid(emailRetype)"
                       placeholder="Repetir e-mail" name="emailRetype" formControlName="emailRetype"
                       aria-describedby="emailRetypeFeedback" required>
                <label for="inputEmailRetype">Repetir e-mail:</label>
                <div id="emailRetypeFeedback" class="invalid-feedback">
                  {{ emailRetype?.errors?.['emailMismatch'] ? 'Los e-mails deben coincidir.' : '' }}
                </div>
              </div>
            </div>
            <div class="col-sm-6">
              <div class="form-floating">
                <input type="password" id="inputPassword" class="form-control form-control-user rounded-pill"
                       [class.is-invalid]="isInvalid(password)" [class.is-valid]="isValid(password)"
                       placeholder="Contraseña" name="password" formControlName="password" required minlength="6"
                       aria-describedby="passwordFeedback" autocomplete="new-password">
                <label for="inputPassword">Contraseña:</label>
                <div id="passwordFeedback" class="invalid-feedback">
                  {{ password?.errors?.['required'] ? 'La contraseña es obligatoria.' : '' }}
                  {{ password?.errors?.['minlength'] ? 'La contraseña debe tener al menos 6 caracteres.' : '' }}
                  {{ password?.errors?.['emailPasswordMatch'] ? 'El email y la contraseña no pueden ser iguales.' : '' }}
                  {{ password?.errors?.['backend'] ?? '' }}
                </div>
              </div>
            </div>
            <div class="col-sm-6">
              <div class="form-floating">
                <input type="password" id="inputPasswordRetype" class="form-control form-control-user rounded-pill"
                       [class.is-invalid]="isInvalid(passwordRetype)" [class.is-valid]="isValid(passwordRetype)"
                       placeholder="Repetir contraseña" name="passwordRetype" formControlName="passwordRetype"
                       aria-describedby="passwordRetypeFeedback" autocomplete="new-password" required>
                <label for="inputPasswordRetype">Repetir contraseña:</label>
                <div id="passwordRetypeFeedback" class="invalid-feedback">
                  {{ passwordRetype?.errors?.['passwordMismatch'] ? 'Las contraseñas deben coincidir.' : '' }}
                </div>
              </div>
            </div>
            <div class="col-12">
              <div class="d-grid mt-2">
                <button type="submit" class="btn btn-primary btn-user rounded-pill"
                        [disabled]="!signupForm.valid || isDoingSignup">
                  @if (!isDoingSignup) {
                    Registrarse
                  } @else {
                    <output aria-live="polite">
                      <span class="spinner-border spinner-border-sm"></span> Registrando...
                    </output>
                  }
                </button>
              </div>
              <hr>
              <div class="d-grid gap-3">
                <button type="button" class="btn btn-google btn-user rounded-pill disabled">
                  <fa-icon [icon]="googleIcon" [fixedWidth]="true"></fa-icon>
                  Registrarse con Google
                </button>
                <button type="button" class="btn btn-facebook btn-user rounded-pill disabled">
                  <fa-icon [icon]="facebookIcon" [fixedWidth]="true"></fa-icon>
                  Registrarse con Facebook
                </button>
              </div>
            </div>
          </form>
          <div class="row g-3 text-center">
            <div class="col-12">
              <hr>
              <a class="small link-underline link-underline-opacity-0 link-underline-opacity-100-hover"
                 routerLink="/auth/recuperar-clave">Olvidé mi contraseña</a>
              <br>
              <a class="small link-underline link-underline-opacity-0 link-underline-opacity-100-hover"
                 routerLink="/auth/login">Ya tengo una cuenta</a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
